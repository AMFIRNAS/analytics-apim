# Introduction

## What is widget-generator tool?
Widget generator tool generate customized widget tamplates based on user inputs. Users can modify the widget template and create new widgets which can be used across analytics dashboards.
Tool generates three types of widget templates which supports both RDBMS Data Provider and SiddhiStore Data Provider.

#### 1. Subscriber Widgets
#### 2. Publisher Widgets
#### 3. Stand-alone Widgets

> Note - By default widget generator will generate a subscriber widget using SiddhiStoreDataProvider

>In order to use the sample Subscriber widget generated by the tool, User must use the DateTimeRangePicker widget as the publisher widget.


# Quick Start Guide

## How to use the tool?
1. Navigate to the <ANALYTICS_HOME>/wso2/tools/generator-widget directory and issue the following command to install dependencies.
   - `$ sudo npm install`
  
    Above directory will be hereafter referred as <TOOL_HOME>

2. Open a terminal in the <TOOL_HOME> directory and Use following commands to create your preffered widget skeleton.
    -  Issue the following command To create a default widget (Subscriber widget using SIddhiStoreDataProvider).
      
       `$ npm run createwidget`

    - Issue the following command replacing the `argument1` and `argument2` as follows to create other widget types.
    
      `$npm run createwidget--widgettype:`argument1`--dataprovider:`argument2

    - "argument1" is reffered to the widget type, replace the "argument1" with `subscriber`, `publisher` or `stand-alone` type.

    - "argument2" is reffered to the data provider type, replace the "argument2" with `SiddhiDataProvider` or `RDBMSDataProvider` type.

    - For example following command will create a publisher widget template with RDBMS Data Provider.

      `$npm run createwidget--widgettype:publisher --dataprovider:RDBMSDataProvider`
3. Enter your widget name and widget heading to the terminal.

4. Based on the preferences, new widget skeleton will be created inside the `<TOOL_HOME>/widgetTemplates` directory and the relevent dependencies will be installed to the `<TOOL_HOME>/widgetTemplates/<WIDGET_ROOT>` directory.

5. Navigate to the `<WIDGET_ROOT>` directory and modify the file content to create your own widget.

6. Navigate to the `<WIDGET_ROOT>` directory and Issue the following command to build the widget.
      - `$npm run build`

7. Restart the analytics dashboard profile to load the newly created widget to the dashboard. 

8. Additionally, to start a node development environment and create a symlink from `<WIDGET_ROOT>` directory to `<HOME>/wso2/...widgets`  directory, Open a terminal in the `<WIDGET_ROOT>` directory and issue following commands.
      - `$npm run dev`
      - `$npm run symlink`

    > If you already build the widget, navigate to `<HOME>/wso2/dashboard/deployment/web-ui-apps/analytics-dashboard/extensions/widgets` directory and remove the `<WIDGET_ROOT>` directory before you issue the above commands.